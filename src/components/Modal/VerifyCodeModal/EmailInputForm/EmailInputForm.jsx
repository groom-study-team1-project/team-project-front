import React from 'react';
import { useState } from "react"; import { FormInputField } from "../../FormInputField"; import {   Btn,   BtnBox,   Container,   Divider,   Form,   ModalTitle, } from "../../Modal.style"; import { ErrorMsg } from "../../SignUpModal/SignUpModal.style"; import {   sendEmailVerificationCode,   sendEmailVerificationCodePassword, } from "../../../../services/api/authApi";  function EmailInputForm({ handleNext, handleSubmitEmail, sendEmail }) {   const [email, setEmail] = useState("");   const [error, setError] = useState("");    const validateForm = () => {     let err = "";      if (email.length < 1) {       err = "?´ë©”??ì£¼ì†Œë¥??…ë ¥?´ì£¼?¸ìš”.";     }      if (!/\S+@\S+\.\S+/.test(email)) {       err = "? íš¨???´ë©”??ì£¼ì†Œë¥??…ë ¥?´ì£¼?¸ìš”.";     }      setError(err);     return err.length === 0;   };    async function handleSubmit(e) {     e.preventDefault();      try {       const isValid = validateForm();        if (isValid) {         let body = { email };         if (sendEmail === "email") {           const { success, message } = await sendEmailVerificationCode(body);           if (!success) {             setError(message);             return;           }         } else if (sendEmail === "password") {           const { success, message } = await sendEmailVerificationCodePassword(             body           );           if (!success) {             setError(message);             return;           }         }          handleNext();         handleSubmitEmail(email);       }     } catch (err) {       console.error(err);     }   }    return (     <Container>       <ModalTitle>         {sendEmail === "email" ? <h1>?Œì›ê°€??/h1> : <h1>ë¹„ë?ë²ˆí˜¸ ë³€ê²?/h1>}       </ModalTitle>       <p>?´ë©”?¼ì„ ?…ë ¥?´ì£¼?¸ìš”</p>       <Form onSubmit={(e) => handleSubmit(e)}>         <div>           <FormInputField             label={"?´ë©”??}             type={"email"}             value={email}             onChange={(e) => setEmail(e.target.value)}           />           {error && <ErrorMsg>{error}</ErrorMsg>}         </div>          <Divider />         <BtnBox>           {sendEmail === "email" ? (             <Btn type="submit">ê³„ì • ?ì„±?˜ê¸°</Btn>           ) : (             <Btn type="submit">?¸ì¦ ë²ˆí˜¸ ?…ë ¥?˜ê¸°</Btn>           )}         </BtnBox>       </Form>     </Container>   ); }  export default EmailInputForm;
